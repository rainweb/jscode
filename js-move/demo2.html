<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽</title>
    <style>
        #div1 {width: 200px; height: 200px; background: red; position: relative;}
        #div2 {width: 20px; height: 20px; background: black; position: absolute; right: 0; bottom: 0;}
    </style>
</head>
<body>
    <div id="div1">
        <div id="div2"></div>
    </div>


    <script>
        var oDiv1 = document.getElementById('div1'),
            oDiv2 = document.getElementById('div2');
        var disX = 0,
            disY = 0,
            disW = 0,
            disH = 0,
            maxW = 500,
            maxH = 300;

        oDiv2.onmousedown = function(e) {
            var e = window.event || e;
            disX = e.clientX;
            disY = e.clientY;
            disW = oDiv1.offsetWidth;
            disY = oDiv1.offsetTop;

            document.onmousemove = function(e) {
                var e = window.event || e;
                var W = e.clientX - disX + disW;
                var H = e.clientY - disY + disH;

                if (W > maxW) W = maxW;
                if (H > maxH) H = maxH;

                oDiv1.style.width = W + 'px';
                oDiv1.style.height = H + 'px';
            }

            document.onmouseup = function() {
                document.onmousemove = null;
                document.onmouseup = null;
            }
        }
    </script>
</body>
</html>